import{w as V,g as k,j as U,h as b,i as I,o as P,B as j,m as $,p as q,t as F,q as L}from"./polymorphic-factory-aZn9nhyV.js";import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{a as v}from"./chunk-QMGIS6GS-CBZUm-7V.js";import{c as D}from"./OptionalPortal-T95BsJLm.js";function H({color:t,theme:e,autoContrast:o}){return(typeof o=="boolean"?o:e.autoContrast)&&V({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function yt(t,e){return H({color:t.colors[t.primaryColor][k(t,e)],theme:t,autoContrast:null})}const G=v.createContext(null),J=G.Provider;function K(){return{withinGroup:!!v.useContext(G)}}var m={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const O={},Q=P((t,{spacing:e})=>({group:{"--ag-spacing":$(e)}})),C=U((t,e)=>{const o=b("AvatarGroup",O,t),{classNames:r,className:s,style:i,styles:g,unstyled:u,vars:d,spacing:a,...c}=o,x=I({name:"AvatarGroup",classes:m,props:o,className:s,style:i,classNames:r,styles:g,unstyled:u,vars:d,varsResolver:Q,rootSelector:"group"});return l.jsx(J,{value:!0,children:l.jsx(j,{ref:e,...x("group"),...c})})});C.classes=m;C.displayName="@mantine/core/AvatarGroup";function W(t){return l.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function X(t){let e=0;for(let o=0;o<t.length;o+=1){const r=t.charCodeAt(o);e=(e<<5)-e+r,e|=0}return e}const Y=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function tt(t,e=Y){const o=X(t),r=Math.abs(o)%e.length;return e[r]}function et(t,e=2){const o=t.split(" ");return o.length===1?t.slice(0,e).toUpperCase():o.map(r=>r[0]).slice(0,e).join("").toUpperCase()}const ot={},rt=P((t,{size:e,radius:o,variant:r,gradient:s,color:i,autoContrast:g,name:u,allowedInitialsColors:d})=>{const a=i==="initials"&&typeof u=="string"?tt(u,d):i,c=t.variantColorResolver({color:a||"gray",theme:t,gradient:s,variant:r||"light",autoContrast:g});return{root:{"--avatar-size":L(e,"avatar-size"),"--avatar-radius":o===void 0?void 0:F(o),"--avatar-bg":a||r?c.background:void 0,"--avatar-color":a||r?c.color:void 0,"--avatar-bd":a||r?c.border:void 0}}}),h=q((t,e)=>{const o=b("Avatar",ot,t),{classNames:r,className:s,style:i,styles:g,unstyled:u,vars:d,src:a,alt:c,radius:x,color:vt,gradient:mt,imageProps:p,children:R,autoContrast:ft,mod:_,name:N,allowedInitialsColors:Ct,...T}=o,z=K(),[Z,y]=v.useState(!a),f=I({name:"Avatar",props:o,classes:m,className:s,style:i,classNames:r,styles:g,unstyled:u,vars:d,varsResolver:rt});return v.useEffect(()=>y(!a),[a]),l.jsx(j,{...f("root"),mod:[{"within-group":z.withinGroup},_],ref:e,...T,children:Z||!a?l.jsx("span",{...f("placeholder"),title:c,children:R||typeof N=="string"&&et(N)||l.jsx(W,{})}):l.jsx("img",{...p,...f("image"),src:a,alt:c,onError:B=>{var S;y(!0),(S=p==null?void 0:p.onError)==null||S.call(p,B)}})})});h.classes=m;h.displayName="@mantine/core/Avatar";h.Group=C;function st(t){let e=t,o=!1;const r=new Set;return{getState(){return e},updateState(s){e=typeof s=="function"?s(e):s},setState(s){this.updateState(s),r.forEach(i=>i(e))},initialize(s){o||(e=s,o=!0)},subscribe(s){return r.add(s),()=>r.delete(s)}}}function nt(t){return v.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function A(t){let e=.5;return t>=0&&t<=20?e=10:t>=20&&t<=50?e=4:t>=50&&t<=80?e=2:t>=80&&t<=99?e=1:t>=99&&t<=100&&(e=0),t+e}const at=()=>st({mounted:!1,progress:0,interval:0,step:1,stepInterval:100,timeouts:[]}),St=t=>nt(t);function n(t,e){const o=e.getState();e.setState({...o,...t(e.getState())})}function it(t){n(e=>({progress:Math.max(e.progress-e.step,0)}),t)}function ct(t,e){n(()=>({progress:D(t,0,100),mounted:!0}),e)}function w(t){n(e=>(window.clearInterval(e.interval),e.timeouts.forEach(o=>window.clearTimeout(o)),{timeouts:[]}),t)}function lt(t){w(t),n(e=>{const o=window.setTimeout(()=>{n(()=>({mounted:!1}),t)},50),r=window.setTimeout(()=>{n(()=>({progress:0}),t)},e.stepInterval+50);return{progress:100,timeouts:[o,r]}},t)}function ut(t){n(e=>({progress:A(e.progress),mounted:!0}),t),n(e=>(window.clearInterval(e.interval),{interval:window.setInterval(()=>{n(r=>({progress:A(r.progress),mounted:!0}),t)},e.stepInterval),mounted:!0}),t)}function E(t){n(e=>(window.clearInterval(e.interval),{interval:-1}),t)}function M(t){w(t),E(t),n(()=>({progress:0,mounted:!1}),t)}function pt(t){n(e=>{const o=Math.min(e.progress+e.step,100),r=o!==100&&o!==0;if(!r){const s=window.setTimeout(()=>M(t),e.stepInterval+50);return{progress:o,mounted:r,timeouts:[...e.timeouts,s]}}return{progress:o,mounted:r}},t)}function gt(){const t=at();return[t,{start:()=>ut(t),stop:()=>E(t),reset:()=>M(t),set:o=>ct(o,t),increment:()=>pt(t),decrement:()=>it(t),complete:()=>lt(t),cleanup:()=>w(t)}]}const[At,dt]=gt(),{start:bt,stop:It,reset:Pt,set:jt,increment:Gt,decrement:Et,complete:Mt,cleanup:Rt}=dt;export{h as A,H as a,At as b,yt as g,dt as n,M as r,St as u};
