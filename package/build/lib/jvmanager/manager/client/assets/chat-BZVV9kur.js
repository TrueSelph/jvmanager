import{w as p,C as d,y as h}from"./chunk-QMGIS6GS-CBZUm-7V.js";import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{B as f}from"./polymorphic-factory-aZn9nhyV.js";import{G as g}from"./Group-BgvTqR_9.js";import{T as u}from"./Title-DsPuOqIQ.js";import{B as x}from"./Button-BH1hN9oM.js";import{c as j}from"./createReactComponent-CwEnMXT7.js";import{D as w}from"./Divider-C0Sq59zE.js";import{C as y}from"./Card-Bkt36yw-.js";import"./Loader-BKuNbySO.js";import"./index-B4z8r-Ct.js";import"./Paper-CnFb9jmT.js";import"./create-safe-context-CzEsa9t0.js";/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C=j("outline","eraser","IconEraser",[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]]);async function R({context:s,request:r}){const o=await r.formData(),a=o.get("_action"),e=new FormData,n=o.get("agentId")||"",i=localStorage.getItem("jivas-token")||"",c=localStorage.getItem("jivas-host")||"",m=o.get("sessionId");if(a==="wipeAgentMemory")return e.append("args",JSON.stringify({session_id:m})),e.append("module_root","actions.jivas.agent_utils_action"),e.append("agent_id",n),e.append("walker","purge_frame_memory"),await fetch(`${c}/action/walker`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:e}).then(async l=>await l.json())}function T(){return[{title:"Chat | JIVAS Manager"}]}const z=p(function({loaderData:r}){const{selectedAgentInfo:o}=d(),a=h();return t.jsxs(f,{py:"xl",px:"xl",children:[t.jsxs(g,{justify:"space-between",children:[t.jsx(u,{order:3,children:"Chat"}),t.jsx(x,{color:"dark",leftSection:t.jsx(C,{className:"h-5 w-5"}),size:"xs",loading:a.state!=="idle",children:"Clear Chat Memory"})]}),t.jsx(w,{mt:"xs",mb:"xl"}),t.jsx(y,{px:"xl",h:"80vh",withBorder:!0})]})});export{R as clientAction,z as default,T as meta};
