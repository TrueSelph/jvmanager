import{z as d,w as p}from"./chunk-QMGIS6GS-CBZUm-7V.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{C as g}from"./Card-Bkt36yw-.js";import{G as f}from"./Group-BgvTqR_9.js";import{B as i}from"./Badge-CDfq5Ohx.js";import{T as m}from"./Text-DuimBQ4y.js";import{B as u}from"./polymorphic-factory-aZn9nhyV.js";import{T as x}from"./Title-DsPuOqIQ.js";import{D as h}from"./Divider-C0Sq59zE.js";import{S as j}from"./SimpleGrid-LCJXu8Gx.js";import"./Paper-CnFb9jmT.js";import"./create-safe-context-CzEsa9t0.js";import"./px-CiO0pVtX.js";import"./get-sorted-breakpoints-CWbmZd_q.js";const v="_root_tlzeu_1",y={root:v};function b({action:o}){var r,t,a;return e.jsxs(g,{withBorder:!0,padding:"lg",radius:"md",component:d,className:y.root,to:`/actions/${o.id}`,children:[e.jsxs(f,{justify:"space-between",children:[e.jsx(i,{size:"sm",color:"gray",variant:"outline",children:((r=o._package)==null?void 0:r.version)||"-"}),o.enabled?e.jsx(i,{size:"sm",variant:"dot",color:"teal",children:"Enabled"}):e.jsx(i,{size:"sm",color:"red",variant:"dot",children:"Disabled"})]}),e.jsx(m,{fz:"md",fw:500,mt:"md",children:((a=(t=o._package)==null?void 0:t.meta)==null?void 0:a.title)||o.label}),e.jsx(m,{fz:"sm",c:"gray.7",mt:5,lineClamp:3,children:o.description})]})}function E(){return[{title:"Actions | JIVAS Manager"}]}async function J({request:o}){const t=(await o.formData()).get("agentId");return localStorage.setItem("jivas-agent",t),{}}async function N({serverLoader:o}){const r=localStorage.getItem("jivas-host"),t=localStorage.getItem("jivas-token");try{return{actions:(await fetch(`${r}/walker/list_actions`,{method:"POST",body:JSON.stringify({agent_id:localStorage.getItem("jivas-agent")}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}).then(s=>s.json())).reports[0]}}catch{return{actions:[]}}}const O=p(function({loaderData:r}){return e.jsxs(u,{px:"xl",py:"xl",children:[e.jsx(x,{order:3,children:"Actions"}),e.jsx(h,{mt:"xs",mb:"xl"}),e.jsx(j,{cols:{base:1,md:2,lg:4},children:r.actions.sort((t,a)=>{var s,n,l,c;return(((n=(s=t._package)==null?void 0:s.meta)==null?void 0:n.title)||t.label).localeCompare(((c=(l=a._package)==null?void 0:l.meta)==null?void 0:c.title)||a.label)}).map(t=>e.jsx(b,{action:t},t.id))})]})});export{J as clientAction,N as clientLoader,O as default,E as meta};
